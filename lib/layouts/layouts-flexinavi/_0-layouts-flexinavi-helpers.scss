
// ===============================================
// Tiles: Layout
// ===============================================

@mixin layouts-flexinavi-layout($element: '.layouts-flexinavi-layout', $display: 3, $top: 0, $top-tab:100px, $barmode: false){
/* ***************************************** */
/*  FlexiNavi: Responsive Flexbile Navigation Bar*/
/* ***************************************** */

#{$element} {
	  .main {
		@include display-box;	
	  }
	  
	  .main li {
	   @include box-flex(1);	
	  }
} //Close $element

#{$element}-menu{
	  display:none;	
	  left:0;
	  right:0;
		  }
	
	

	  
	  
	  @include media($mob...){ 

  .ui-tapmenu  {
padding:0 20px;
 }
	 
 

}

	  

	
@include media($portables...){ 
.primary-nav .main  {
	display:none;
}

  .ui-tapmenu {
	  top:$top;
	  @include box-sizing(border-box);
	  }

.masthead .cta {
display:none;	
}

.page-content.sub-page .masthead .cta {
display:block;	
}

.page-content.sub-page .masthead .tap-btn-menu {
display:none;	
}



}


@include media($fab...){ 

#{$element} .anchor {
width: 100%;
padding-right: inherit;
}

  .ui-tapmenu {
padding:0 40px;

 }
	  

}



@include media($desk){ 
	  #{$element}-menu, #{$element}  .anchor  {
	  display:none;	
	  }
	  
	  html body .show#{$element}-menu {
	  display:none !Important;	
		  }
		  
		  
}


$main-none: ($display + 1);
$menu-none: ($display - 1);


@include media($tab...){ 

#{$element}-menu .title {
display:none;	
}


#{$element} .main li:nth-child(n+#{$main-none}) {
	display:none;
}


#{$element}-menu li:nth-child(-n+#{$menu-none}) {
	display:none;
}


#{$element} {
 height:auto;
  overflow:hidden;	
}


#{$element} .main {
    float:left;
    height:100%;
	width: 78%;
}

#{$element} .main li {
	overflow:auto;
}

#{$element}-menu {
    float: right;	
	width:16%;
	@include box-sizing(border-box);
	right:20px;
}
}





@if $barmode == true {
	
	
@include media($fabplus...){ 
#{$element}-bar {
display:none;
}
}

	
	@include media($mob...){ 
	
		
#{$element}-bar {
display:block;
top:inherit;
bottom:0;
@include rem(height, 53px);
left:0;
right:0;
position:absolute !Important;


ul {
height:100%;	
}

li {
position:relative;
height:100%;	
}

a {
	position:absolute;
	bottom:0;
	left:0;
	right:0;
}



} //Close $element



} //Close MQ



} //Close if



} // Close $Mixin


// ===============================================
// Tiles: Grid
// ===============================================

@mixin layouts-flexinavi-grid($element: '.layouts-flexinavi-grid') {

#{$element} {


} // Close $element
} // Close $Mixin



@mixin layouts-flexinavi-grid-mob-p($element: '.layouts-flexinavi-grid-mob-p', $barmode: false) {


@if $barmode == true {
	

	
	
	
#{$element}-bar {
	
	width:100%;
	
		
	ul {
width:100%;
		}
	
	
	li {
width:20%;
float:left;
display:block;
	}
	
	.anchor {

	}
	
	
	} //Close $element



} //Close if

		
} //Close Mixin


@mixin layouts-flexinavi-grid-mob-l($element: '.layouts-flexinavi-grid-mob-l') {
	@include layouts-flexinavi-grid($element:$element);
}


@mixin layouts-flexinavi-grid-fab($element: '.layouts-flexinavi-grid-fab') {
	@include layouts-flexinavi-grid($element:$element);
}


@mixin layouts-flexinavi-grid-tab($element: '.layouts-flexinavi-grid-tab') {
	@include layouts-flexinavi-grid($element:$element);
}


@mixin layouts-flexinavi-grid-desk($element: '.layouts-flexinavi-grid-desk') {
	@include layouts-flexinavi-grid($element:$element);
}


@mixin layouts-flexinavi-grid-r($element: '.layouts-flexinavi-grid', $barmode: false) {


@if $barmode == true {
@include media($mob...){ 
@include layouts-flexinavi-grid-mob-p($element: $element, $barmode: true);
}
}


	@include layouts-flexinavi-grid($element:$element);
	
	
	
	
}



// ===============================================
// Tiles: Style
// ===============================================

@mixin layouts-flexinavi-style($element: '.layouts-flexinavi-grid-mob-p', $top:0, $top-tab:100px, $barmode: false) {

	
	.tap-btn {
	float:right;	
     box-sizing: border-box;
     text-align: center;
	 padding:2%;
	 @include border-radius(5px);
	 @include box-sizing(border-box);
 	text-align:center;
	@include typeface-regular;	
	color: $lighter;			
	@include rem(margin, 0 20px);
@include rem(padding-right, 50px);
position:relative;
	@extend %t-ui-navigation; 
	border:1px solid $scratch;
	
	}




.ui-tapmenu {
top: $top;
}

#{$element} {
.tap-btn {
margin-right:0;
}
}





#{$element} {

	
	ul {
	display:inline;	
	}
		
	.tap-btn-menu:after {
		@include icon($icon-reorder);	
	}
	
	a {
@extend %t-ui-navigation;
@extend %vr-spacer-box;	
text-align:center;
display:block;
}
	
			
} // Close $element


@include media($mob...){ 


#{$element}-menu {
width:100%;
left:0;
right:0;
}

}

@include media($devices...){ 
@include ui-taplist($element: ' #{$element}-menu ul');
}



@include media($tab...){ 
#{$element}-menu {
@include scheme-purity;
left:inherit;
width:30%;
bottom:inherit;

&:after, &:before {
	bottom: 100%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

&:after {
	border-color: rgba(255, 255, 255, 0);
	border-bottom-color: #ffffff;
	border-width: 20px;
	left: 68%;
	margin-left: -20px;
}

&:before {
	border-color: rgba(225, 225, 225, 0);
	border-bottom-color: $scratch;
	border-width: 23px;
	left: 68%;
	margin-left: -23px;
}
} //Close element

.ui-tapmenu {
top: $top-tab;
	}

} //Close MQ


@if $barmode == true {
@include media($mob...){ 

#{$element}-bar {
	
	li {
	text-align:center;	
	border:1px solid $scratch;	
	@include box-sizing(border-box);
	@include t-ui-navibar-mob;
	}
	
	.anchor:after	{
		@include icon($icon-reorder);	
	}
	
	
	li a:nth-child(n):after {
	width: 100%;
height: 100%;
@include rem(margin-top, -38px);
@include rem(font-size, 38px);
float:left;
color:$scratch;
	}
	
li a.active:nth-child(n):after  {
		color:$darker;
		
	}
	
	li a:nth-child(n):active:after  {
		color:$default;
		
	}


	
	
} //Close Element
} //Close MQ
} //Close If


} // Close $Mixin
	
	
	
	
// ===============================================
// Combo
// ===============================================

@mixin layouts-flexinavi-combo($element: '.layouts-flexinavi-combo', $top: 0, $top-tab:100px, $display: 3, $barmode: false) {
	@include layouts-flexinavi-layout($element: $element, $top: $top, $top-tab: $top-tab, $display: $display, $barmode: $barmode);
	@include layouts-flexinavi-grid-r($element: $element, $barmode: $barmode);
	@include layouts-flexinavi-style($element: $element, $top: $top,  $top-tab: $top-tab, $barmode: $barmode);
}